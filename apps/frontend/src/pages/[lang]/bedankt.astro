---
import BaseLayout from "../../layouts/BaseLayout.astro"
import { getTranslations, validateLocale } from "../../lib/i18n"
import type { Locale } from "../../lib/strapi"

export function getStaticPaths() {
  return [{ params: { lang: "nl" } }, { params: { lang: "en" } }]
}

const langParam = Astro.params.lang ?? "nl"

if (!validateLocale(langParam)) {
  throw new Error(`Unsupported locale: ${langParam}`)
}

const lang: Locale = langParam
const t = getTranslations(lang)
---

<BaseLayout title={t.thankYou.title} description={t.thankYou.message} lang={lang}>
  <section class="mx-auto max-w-2xl px-4 py-16 text-center md:py-24">
    <div data-conversion="true" class="rounded-2xl border border-slate-200 bg-white p-8 shadow-sm">
      <svg
        class="mx-auto h-14 w-14 text-brand-green"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        aria-hidden="true"
      >
        <path
          d="M20 7L10 17L4 11"
          stroke="currentColor"
          stroke-width="2.5"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>

      <h1 class="mt-6 text-3xl font-bold text-slate-900 md:text-4xl">{t.thankYou.title}</h1>
      <p class="mt-4 text-slate-700">{t.thankYou.message}</p>

      <a
        href={`/${lang}/`}
        class="mt-8 inline-flex items-center rounded-md bg-brand-green px-5 py-3 text-sm font-semibold text-white hover:bg-brand-green-dark"
      >
        {t.common.backToHome}
      </a>
    </div>
  </section>
</BaseLayout>
